{"version":3,"sources":["src/array.ts","src/dollar.ts","src/elem.ts","src/http.ts","src/math.ts","src/misc.ts","src/string.ts"],"names":[],"mappings":"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","file":"jsplus.js","sourcesContent":["// Array constructor extensions ////////////////////////////////////////////////\r\n\r\n\r\ndeclare interface ArrayConstructor {\r\n    range(start: number, end?: number): Array<number>\r\n    generate<T>(n: number, func: (num: number) => T): Array<T>\r\n}\r\n\r\n\r\nArray.range = function(end: number) {\r\n\treturn Array.range(0, end)\r\n}\r\n\r\n\r\nArray.range = function(start: number, end: number): Array<number> {\r\n\tlet result = []\r\n    if (end < start) {\r\n        [start, end] = [end, start]\r\n    }\r\n    for (let i = start; i < end; ++i) {\r\n        result.push(i)\r\n    }\r\n\treturn result\r\n}\r\n\r\n\r\nArray.generate = function<T>(n: number, func: (num: number) => T): Array<T> {\r\n\treturn Array.range(n).map(func)\r\n}\r\n\r\n\r\n// Array extensions ////////////////////////////////////////////////////////////\r\n\r\n\r\ndeclare interface Array<T> {\r\n    groupsOf(n: number): Array<Array<T>>\r\n    last(): T|null\r\n    sample(): T\r\n    sampleAndRemove(): T\r\n    min(): number\r\n    max(): number\r\n    range(): number\r\n    remove(elem: T): void\r\n    removeExact(elem: T): void\r\n}\r\n\r\n\r\nArray.prototype.groupsOf = function(n: number) {\r\n\tlet result = []\r\n\tlet group = []\r\n\tfor (let i = 0; i < this.length; ++i) {\r\n\t\tgroup.push(this[i])\r\n\t\tif (i % n == n-1) {\r\n\t\t\tresult.push(group)\r\n\t\t\tgroup = []\r\n\t\t}\r\n\t}\r\n\tif (group.length > 0) {\r\n\t\tresult.push(group)\r\n\t}\r\n\treturn result\r\n}\r\n\r\n\r\nArray.prototype.last = function() {\r\n\treturn this.length > 0 ? this[this.length - 1] : null\r\n}\r\n\r\n\r\nArray.prototype.sample = function() {\r\n\treturn this[Math.floor(Math.random() * this.length)]\r\n}\r\n\r\n\r\nArray.prototype.sampleAndRemove = function() {\r\n\tlet result = this.sample()\r\n\tthis.remove(result)\r\n\treturn result\r\n}\r\n\r\n\r\nArray.prototype.min = function() {\r\n    if (this.length < 1) { throw \"Array.min() called on empty array.\"; }\r\n\r\n    let min = this[0];\r\n    for (let i = 1; i < this.length; ++i) {\r\n        if (this[i] < min) {\r\n            min = this[i];\r\n        }\r\n    }\r\n\r\n    return min;\r\n}\r\n\r\n\r\nArray.prototype.max = function() {\r\n    if (this.length < 1) { throw \"Array.max() called on empty array.\"; }\r\n\r\n    let max = this[0];\r\n    for (let i = 1; i < this.length; ++i) {\r\n        if (this[i] > max) {\r\n            max = this[i];\r\n        }\r\n    }\r\n\r\n    return max;\r\n}\r\n\r\n\r\nArray.prototype.range = function() {\r\n    return this.length > 0 ? (this.max() - this.min()) : 0\r\n}\r\n\r\n\r\nArray.prototype.remove = function(elem) {\r\n    let i = 0\r\n    while (i < this.length) {\r\n    \tif (this[i] == elem) { this.splice(i, 1) }\r\n    \telse { ++i }\r\n    }\r\n}\r\n\r\n\r\nArray.prototype.removeExact = function(elem) {\r\n    let i = 0\r\n    while (i < this.length) {\r\n    \tif (this[i] === elem) { this.splice(i, 1) }\r\n    \telse { ++i }\r\n    }\r\n}","// everybody's gotta have a dollar sign shortcut thing right\r\n\r\nvar $ = {\r\n\tonload: (handler: (e: Event) => void): void => {\r\n\t\tif (document.readyState === \"complete\") {\r\n\t\t\t// ensures the handler runs even if $.onload is called after the window onload event fires\r\n\t\t\thandler(null)\r\n\t\t}\r\n\t\telse window.addEventListener(\"load\", handler)\r\n\t},\r\n\tq: (selector: string): HTMLElement => document.querySelector(selector),\r\n\tqa: (selector: string): NodeList => document.querySelectorAll(selector)\r\n}\r\n","// Element builder /////////////////////////////////////////////////////////////\r\n\r\n\r\nconst SVGNS = \"http://www.w3.org/2000/svg\"\r\n\r\n\r\nclass Elem {\r\n\ttagName: string\r\n\tclasses: Array<string> = []\r\n\tstyles: Array<[string, string]> = []\r\n\tattrs: Array<[string, string]> = []\r\n\tevents: Map<string, Function> = new Map()\r\n\tparent: HTMLElement|SVGElement|null = null\r\n\tid: string|null = null\r\n\tsrc: string|null = null\r\n\ttext: string|null = null\r\n\r\n\tconstructor (tagName: string) {\r\n\t\tthis.tagName = tagName\r\n\t}\r\n\r\n\twithStyle(rule: string, value: string): Elem {\r\n\t\tthis.styles.push([rule, value])\r\n\t\treturn this\r\n\t}\r\n\r\n\twithClass(cls: string, ...more: string[]): Elem {\r\n\t\tthis.classes.push(cls)\r\n\t\tmore.forEach(c => this.classes.push(c))\r\n\t\treturn this\r\n\t}\r\n\r\n\twithClassIf(predicate: boolean, cls: string, ...more: string[]): Elem {\r\n\t\tif (predicate) {\r\n\t\t\tthis.classes.push(cls)\r\n\t\t\tmore.forEach(c => this.classes.push(c))\r\n\t\t}\r\n\t\treturn this\r\n\t}\r\n\t\r\n\tchildOf(parent: HTMLElement|SVGElement): Elem {\r\n\t\tthis.parent = parent\r\n\t\treturn this\r\n\t}\r\n\t\r\n\twithId(id: string): Elem {\r\n\t\tthis.id = id\r\n\t\treturn this\r\n\t}\r\n\t\r\n\twithText(text: string) {\r\n\t\tthis.text = text.replaceAll('&', '&amp;')\r\n\t\t\t\t\t\t.replaceAll('<', '&lt;')\r\n\t\t\t\t\t\t.replaceAll('>', '&gt;')\r\n\t\t\t\t\t\t.replaceAll('\"', '&quot;')\r\n\t\t\t\t\t\t.replaceAll(\"'\", '&#039;')\r\n\t\treturn this\r\n\t}\r\n\t\r\n\twithHtml(html: string): Elem {\r\n\t\tthis.text = html\r\n\t\treturn this\r\n\t}\r\n\t\r\n\twithSrc(src: string): Elem {\r\n\t\tthis.src = src\r\n\t\treturn this\r\n\t}\r\n\t\r\n\twithAttr(attr: string, value: string): Elem {\r\n\t\tthis.attrs.push([attr, value])\r\n\t\treturn this\r\n\t}\r\n\t\r\n\ton(event: string, handler: Function): Elem {\r\n\t\tthis.events.set(event, handler)\r\n\t\treturn this\r\n\t}\r\n\r\n\tbuildNS(ns: string): Element {\r\n\t\tlet e = document.createElementNS(ns, this.tagName)\r\n\t\tthis.classes.forEach(c => e.classList.add(c))\r\n\t\tthis.attrs.forEach(([attr, value]) => e.setAttribute(attr, value))\r\n\t\tthis.styles.forEach(([rule, value]) => (e as any).style.setProperty(rule, value))\r\n\t\tif (this.id !== null) { e.id = this.id }\r\n\t\tif (this.text !== null) { e.textContent = this.text }\r\n\t\tif (this.src !== null) { (e as any).src = this.src }\r\n\t\r\n\t\tif (this.parent !== null) { this.parent.appendChild(e) }\r\n\t\r\n\t\tfor (let event in this.events) {\r\n\t\t\t(e as any).addEventListener(event, this.events.get(event), false)\r\n\t\t}\r\n\t\r\n\t\treturn e\r\n\t}\r\n\t\r\n\tbuild(): HTMLElement {\r\n\t\tlet e = document.createElement(this.tagName)\r\n\t\tthis.classes.forEach(c => e.classList.add(c))\r\n\t\tthis.attrs.forEach(([attr, value]) => e.setAttribute(attr, value))\r\n\t\tthis.styles.forEach(([rule, value]) => e.style.setProperty(rule, value))\r\n\t\tif (this.id !== null) { e.id = this.id }\r\n\t\tif (this.text !== null) { e.textContent = this.text }\r\n\t\tif (this.src !== null) { (e as any).src = this.src }\r\n\t\r\n\t\tif (this.parent !== null) { this.parent.appendChild(e) }\r\n\t\r\n\t\tfor (let event in this.events) {\r\n\t\t\t(e as any).addEventListener(event, this.events.get(event), false)\r\n\t\t}\r\n\t\r\n\t\treturn e\r\n\t}\r\n}\r\n","// HTTP ////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n// TODO: status codes, body/params, timeout, headers\r\n//HTTP.get(\"example.com\")\r\n//\t.urlParams([[\"q\", \"src\"], [\"id\", \"0\"]])\r\n//\t.body({})\r\n//\t.contentType(\"\")\r\n//\t.header(\"\", \"\")\r\n//\t.header(\"\", \"\")\r\n//\t.timeout(0)\r\n\r\nclass HTTP {\r\n    req: XMLHttpRequest\r\n    onProgress: ((response: any) => void)|null = null\r\n    onSuccess:  ((response: any) => void)|null = null\r\n    onError:    ((response: any) => void)|null = null\r\n    onComplete: ((response: any) => void)|null = null\r\n\r\n    constructor(public verb: string, public url: string) {\r\n        this.req = new XMLHttpRequest()\r\n\r\n        let self = this;\r\n        this.req.addEventListener(\"progress\", (evt) => {\r\n            if (self.onProgress !== null && evt.lengthComputable) {\r\n                self.onProgress.apply(self, [evt.loaded / evt.total]);\r\n            }\r\n        });\r\n        this.req.addEventListener(\"load\", (evt) => {\r\n            if (self.onSuccess !== null) {\r\n                self.onSuccess.apply(self, [self.req.response])\r\n            }\r\n            if (self.onComplete !== null) {\r\n                self.onComplete.apply(self, [self.req.response])\r\n            }\r\n        });\r\n        let errorHandler = (evt: any) => {\r\n            if (self.onError !== null) {\r\n                self.onError.apply(self, [self.req.response])\r\n            }\r\n            if (self.onComplete !== null) {\r\n                self.onComplete.apply(self, [self.req.response])\r\n            }\r\n        };\r\n        this.req.addEventListener(\"error\", errorHandler)\r\n        this.req.addEventListener(\"abort\", errorHandler)\r\n    }\r\n\r\n    static get(url: string) {\r\n        return new HTTP(\"GET\", url)\r\n    }\r\n\r\n    static post(url: string) {\r\n        return new HTTP(\"POST\", url)\r\n    }\r\n\r\n    static put(url: string) {\r\n        return new HTTP(\"PUT\", url)\r\n    }\r\n\r\n    static patch(url: string) {\r\n        return new HTTP(\"PATCH\", url)\r\n    }\r\n\r\n    static delete(url: string) {\r\n        return new HTTP(\"DELETE\", url)\r\n    }\r\n\r\n    success(handler: (response: any) => void) {\r\n        if (!(handler instanceof Function)) {\r\n            throw new TypeError(\"HTTP request success handler must be a function.\")\r\n        }\r\n        this.onSuccess = handler\r\n        return this\r\n    }\r\n\r\n    error(handler: (response: any) => void) {\r\n        if (!(handler instanceof Function)) {\r\n            throw new TypeError(\"HTTP request error handler must be a function.\")\r\n        }\r\n        this.onError = handler\r\n        return this\r\n    }\r\n\r\n    finally(handler: (response: any) => void) {\r\n        if (!(handler instanceof Function)) {\r\n            throw new TypeError(\"HTTP request complete handler must be a function.\")\r\n        }\r\n        this.onComplete = handler\r\n        return this\r\n    }\r\n\r\n    progress(handler: (response: any) => void) {\r\n        if (!(handler instanceof Function)) {\r\n            throw new TypeError(\"HTTP request progress handler must be a function.\")\r\n        }\r\n        this.onProgress = handler\r\n        return this\r\n    }\r\n\r\n    responseType(ty: XMLHttpRequestResponseType) {\r\n        this.req.responseType = ty\r\n        return this\r\n    }\r\n\r\n    send() {\r\n        this.req.open(this.verb, this.url)\r\n        this.req.send()\r\n        return this\r\n    }\r\n}\r\n","// Math extensions /////////////////////////////////////////////////////////////\r\n\r\n\r\ndeclare interface Math {\r\n    clamp(x: number, min: number, max: number): number\r\n    lerp(a: number, b: number, x: number): number\r\n    randomPointInCircle(): [number, number]\r\n    randomNormalDeviate(): number\r\n    randomGammaDeviate(shape?: number): number\r\n    betaSample(mean: number, variance: number): number\r\n    randomIntRangeInclusive(min: number, max: number): number\r\n}\r\n\r\n\r\nMath.clamp = function(x: number, min: number, max: number): number {\r\n\treturn Math.min(Math.max(min, x), max)\r\n}\r\n\r\n\r\nMath.lerp = function(a: number, b: number, x: number): number {\r\n\treturn (a * (1-x)) + (b * x)\r\n}\r\n\r\n\r\nMath.randomPointInCircle = function() {\r\n    let angle = Math.random() * 2.0 * Math.PI\r\n    let r = Math.random() + Math.random()\r\n    if (r > 1) { r = 2 - r; }\r\n    return [r * Math.cos(angle), r * Math.sin(angle)]\r\n}\r\n\r\n\r\nMath.randomNormalDeviate = function(): number {\r\n\tlet u, v, q\r\n\tdo {\r\n\t\tu = Math.random()\r\n\t\tv = 1.7156 * (Math.random() - 0.5)\r\n\t\tlet x = u - 0.449871\r\n\t\tlet y = Math.abs(v) + 0.386595\r\n\t\tq = x * x + y * (0.19600 * y - 0.25472 * x)\r\n\t} while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u))\r\n\treturn v / u\r\n}\r\n\r\n\r\nMath.randomGammaDeviate = function(shape?: number): number {\r\n  if (shape === undefined)\r\n    shape = 1\r\n  let oalph = shape\r\n  let u = 0\r\n  let v = 0\r\n  let x = 0\r\n  if (shape < 1)\r\n    shape += 1\r\n  let a1 = shape - 1 / 3\r\n  let a2 = 1 / Math.sqrt(9 * a1)\r\n  do {\r\n    do {\r\n      x = Math.randomNormalDeviate()\r\n      v = 1 + a2 * x\r\n    } while(v <= 0)\r\n    v = v * v * v\r\n    u = Math.random()\r\n  } while(u > 1 - 0.331 * Math.pow(x, 4) && Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)))\r\n  // alpha > 1\r\n  if (shape == oalph)\r\n    return a1 * v\r\n  // alpha < 1\r\n  do {\r\n    u = Math.random()\r\n  } while(u === 0)\r\n  return Math.pow(u, 1 / oalph) * a1 * v\r\n}\r\n\r\n\r\n// Returns a random sample from a beta distribution with the given mean and variance.\r\n// 0 variance is undefined\r\n// v = 0 to 0.35 is a bell curve\r\n// v ~= 0.35 is uniform\r\n// v > 0.35 is an inverse bell curve\r\nMath.betaSample = function(mean, variance) {\r\n    let n = (mean * (1.0 - mean)) / (variance * variance)\r\n    let alpha = mean * n\r\n    let beta = (1.0 - mean) * n\r\n    let u = Math.randomGammaDeviate(alpha)\r\n    return u / (u + Math.randomGammaDeviate(beta))\r\n}\r\n\r\n\r\nMath.randomIntRangeInclusive = function(min: number, max: number) {\r\n\tmin = Math.trunc(min)\r\n\tmax = Math.trunc(max) + 1\r\n\treturn Math.floor(Math.random() * (max-min)) + min\r\n}","// Free-standing functions /////////////////////////////////////////////////////\r\n\r\nfunction isFunction(arg: any): boolean {\r\n  return toString.call(arg) === '[object Function]';\r\n}\r\n\r\n\r\nfunction isNumber(num: any): boolean {\r\n  return (typeof num === 'number') ? num - num === 0 : false;\r\n}\r\n\r\nfunction xor(a: boolean, b: boolean): boolean {\r\n\treturn (a && !b) || (!a && b);\r\n}\r\n\r\n\r\n// Object extensions ///////////////////////////////////////////////////////////\r\n\r\ndeclare interface Object {\r\n\tdeepCopy(obj: any): any\r\n}\r\n\r\nObject.deepCopy = function(obj) {\r\n\tif (obj === null || typeof (obj) !== 'object' || '__isActiveClone__' in obj) { return obj }\r\n\r\n\tlet temp = obj instanceof Date ? new Date(obj) : obj.constructor()\r\n\r\n    for (let key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            obj['__isActiveClone__'] = null\r\n            temp[key] = Object.deepCopy(obj[key])\r\n            delete obj['__isActiveClone__']\r\n        }\r\n    }\r\n    return temp\r\n}\r\n\r\n\r\n// Weighted random /////////////////////////////////////////////////////////////\r\n\r\nclass WeightedRandom<T> {\r\n\tduped: Array<T>|null = null\r\n\r\n\tconstructor(public weights: Array<{ weight: number, value: T }>) { }\r\n\r\n\tsample(): T {\r\n\t\tif (this.duped === null) {\r\n\t\t\tthis.duped = []\r\n\t\t\tfor (let w of this.weights) {\r\n\t\t\t\tfor (let _ of [...Array(w.weight)]) { this.duped.push(w.value) }\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet roll = Math.floor(Math.random() * this.duped.length)\r\n\t\treturn this.duped[roll]\r\n\t}\r\n}\r\n","// String extensions ///////////////////////////////////////////////////////////\r\n\r\n\r\ndeclare interface String {\r\n    toTitleCase(): String\r\n    toSnakeCase(): String\r\n    last(): String\r\n}\r\n\r\n\r\nString.prototype.toTitleCase = function(): String {\r\n\tlet chars = [...this]\r\n\tlet result = chars.shift().toUpperCase()\r\n\tlet afterSpace = false\r\n\tfor (let c of chars) {\r\n\t\tif (c === \" \" || c === \"_\") {\r\n\t\t\tafterSpace = true\r\n\t\t\tresult += \" \"\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (afterSpace) {\r\n\t\t\t\tresult += c.toUpperCase()\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresult += c.toLowerCase()\r\n\t\t\t}\r\n\t\t\tafterSpace = false\r\n\t\t}\r\n\t}\r\n\treturn result\r\n}\r\n\r\nString.prototype.toSnakeCase = function(): String {\r\n\treturn this.toLowerCase().replaceAll(\" \", \"_\")\r\n}\r\n\r\nString.prototype.last = function(): String { return [...this].last() }"]}